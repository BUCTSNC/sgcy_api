/* esm.sh - esbuild bundle(uri-js@4.4.1) deno production */
var Gr=Object.create;var Ie=Object.defineProperty;var Yr=Object.getOwnPropertyDescriptor;var Xr=Object.getOwnPropertyNames;var Zr=Object.getPrototypeOf,Qr=Object.prototype.hasOwnProperty;var Br=v=>Ie(v,"__esModule",{value:!0});var kr=(v,h)=>()=>(h||v((h={exports:{}}).exports,h),h.exports);var Jr=(v,h,i,q)=>{if(h&&typeof h=="object"||typeof h=="function")for(let R of Xr(h))!Qr.call(v,R)&&(i||R!=="default")&&Ie(v,R,{get:()=>h[R],enumerable:!(q=Yr(h,R))||q.enumerable});return v},We=(v,h)=>Jr(Br(Ie(v!=null?Gr(Zr(v)):{},"default",!h&&v&&v.__esModule?{get:()=>v.default,enumerable:!0}:{value:v,enumerable:!0})),v);var Te=kr((oe,er)=>{(function(v,h){typeof oe=="object"&&typeof er<"u"?h(oe):typeof define=="function"&&define.amd?define(["exports"],h):h(v.URI=v.URI||{})})(oe,function(v){"use strict";function h(){for(var r=arguments.length,e=Array(r),a=0;a<r;a++)e[a]=arguments[a];if(e.length>1){e[0]=e[0].slice(0,-1);for(var n=e.length-1,t=1;t<n;++t)e[t]=e[t].slice(1,-1);return e[n]=e[n].slice(1),e.join("")}else return e[0]}function i(r){return"(?:"+r+")"}function q(r){return r===void 0?"undefined":r===null?"null":Object.prototype.toString.call(r).split(" ").pop().split("]").shift().toLowerCase()}function R(r){return r.toUpperCase()}function nr(r){return r!=null?r instanceof Array?r:typeof r.length!="number"||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[]}function tr(r,e){var a=r;if(e)for(var n in e)a[n]=e[n];return a}function ye(r){var e="[A-Za-z]",a="[\\x0D]",n="[0-9]",t="[\\x22]",f=h(n,"[A-Fa-f]"),u="[\\x0A]",c="[\\x20]",d=i(i("%[EFef]"+f+"%"+f+f+"%"+f+f)+"|"+i("%[89A-Fa-f]"+f+"%"+f+f)+"|"+i("%"+f+f)),g="[\\:\\/\\?\\#\\[\\]\\@]",s="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",S=h(g,s),$=r?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",p=r?"[\\uE000-\\uF8FF]":"[]",E=h(e,n,"[\\-\\.\\_\\~]",$),D=i(e+h(e,n,"[\\+\\-\\.]")+"*"),o=i(i(d+"|"+h(E,s,"[\\:]"))+"*"),z=i(i("25[0-5]")+"|"+i("2[0-4]"+n)+"|"+i("1"+n+n)+"|"+i("[1-9]"+n)+"|"+n),C=i(i("25[0-5]")+"|"+i("2[0-4]"+n)+"|"+i("1"+n+n)+"|"+i("0?[1-9]"+n)+"|0?0?"+n),T=i(C+"\\."+C+"\\."+C+"\\."+C),l=i(f+"{1,4}"),A=i(i(l+"\\:"+l)+"|"+T),y=i(i(l+"\\:")+"{6}"+A),U=i("\\:\\:"+i(l+"\\:")+"{5}"+A),V=i(i(l)+"?\\:\\:"+i(l+"\\:")+"{4}"+A),H=i(i(i(l+"\\:")+"{0,1}"+l)+"?\\:\\:"+i(l+"\\:")+"{3}"+A),ie=i(i(i(l+"\\:")+"{0,2}"+l)+"?\\:\\:"+i(l+"\\:")+"{2}"+A),ve=i(i(i(l+"\\:")+"{0,3}"+l)+"?\\:\\:"+l+"\\:"+A),Ee=i(i(i(l+"\\:")+"{0,4}"+l)+"?\\:\\:"+A),B=i(i(i(l+"\\:")+"{0,5}"+l)+"?\\:\\:"+l),k=i(i(i(l+"\\:")+"{0,6}"+l)+"?\\:\\:"),b=i([y,U,V,H,ie,ve,Ee,B,k].join("|")),J=i(i(E+"|"+d)+"+"),Ce=i(b+"\\%25"+J),M=i(b+i("\\%25|\\%(?!"+f+"{2})")+J),wr=i("[vV]"+f+"+\\."+h(E,s,"[\\:]")+"+"),Lr=i("\\["+i(M+"|"+b+"|"+wr)+"\\]"),Be=i(i(d+"|"+h(E,s))+"*"),fe=i(Lr+"|"+T+"(?!"+Be+")|"+Be),ue=i(n+"*"),ke=i(i(o+"@")+"?"+fe+i("\\:"+ue)+"?"),he=i(d+"|"+h(E,s,"[\\:\\@]")),zr=i(he+"*"),Je=i(he+"+"),Vr=i(i(d+"|"+h(E,s,"[\\@]"))+"+"),w=i(i("\\/"+zr)+"*"),K=i("\\/"+i(Je+w)+"?"),Ae=i(Vr+w),de=i(Je+w),W="(?!"+he+")",ea=i(w+"|"+K+"|"+Ae+"|"+de+"|"+W),ee=i(i(he+"|"+h("[\\/\\?]",p))+"*"),se=i(i(he+"|[\\/\\?]")+"*"),Ke=i(i("\\/\\/"+ke+w)+"|"+K+"|"+de+"|"+W),Mr=i(D+"\\:"+Ke+i("\\?"+ee)+"?"+i("\\#"+se)+"?"),qr=i(i("\\/\\/"+ke+w)+"|"+K+"|"+Ae+"|"+W),jr=i(qr+i("\\?"+ee)+"?"+i("\\#"+se)+"?"),ra=i(Mr+"|"+jr),aa=i(D+"\\:"+Ke+i("\\?"+ee)+"?"),na="^("+D+")\\:"+i(i("\\/\\/("+i("("+o+")@")+"?("+fe+")"+i("\\:("+ue+")")+"?)")+"?("+w+"|"+K+"|"+de+"|"+W+")")+i("\\?("+ee+")")+"?"+i("\\#("+se+")")+"?$",ta="^(){0}"+i(i("\\/\\/("+i("("+o+")@")+"?("+fe+")"+i("\\:("+ue+")")+"?)")+"?("+w+"|"+K+"|"+Ae+"|"+W+")")+i("\\?("+ee+")")+"?"+i("\\#("+se+")")+"?$",ia="^("+D+")\\:"+i(i("\\/\\/("+i("("+o+")@")+"?("+fe+")"+i("\\:("+ue+")")+"?)")+"?("+w+"|"+K+"|"+de+"|"+W+")")+i("\\?("+ee+")")+"?$",fa="^"+i("\\#("+se+")")+"?$",ua="^"+i("("+o+")@")+"?("+fe+")"+i("\\:("+ue+")")+"?$";return{NOT_SCHEME:new RegExp(h("[^]",e,n,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(h("[^\\%\\:]",E,s),"g"),NOT_HOST:new RegExp(h("[^\\%\\[\\]\\:]",E,s),"g"),NOT_PATH:new RegExp(h("[^\\%\\/\\:\\@]",E,s),"g"),NOT_PATH_NOSCHEME:new RegExp(h("[^\\%\\/\\@]",E,s),"g"),NOT_QUERY:new RegExp(h("[^\\%]",E,s,"[\\:\\@\\/\\?]",p),"g"),NOT_FRAGMENT:new RegExp(h("[^\\%]",E,s,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(h("[^]",E,s),"g"),UNRESERVED:new RegExp(E,"g"),OTHER_CHARS:new RegExp(h("[^\\%]",E,S),"g"),PCT_ENCODED:new RegExp(d,"g"),IPV4ADDRESS:new RegExp("^("+T+")$"),IPV6ADDRESS:new RegExp("^\\[?("+b+")"+i(i("\\%25|\\%(?!"+f+"{2})")+"("+J+")")+"?\\]?$")}}var j=ye(!1),re=ye(!0),ce=function(){function r(e,a){var n=[],t=!0,f=!1,u=void 0;try{for(var c=e[Symbol.iterator](),d;!(t=(d=c.next()).done)&&(n.push(d.value),!(a&&n.length===a));t=!0);}catch(g){f=!0,u=g}finally{try{!t&&c.return&&c.return()}finally{if(f)throw u}}return n}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ir=function(r){if(Array.isArray(r)){for(var e=0,a=Array(r.length);e<r.length;e++)a[e]=r[e];return a}else return Array.from(r)},G=2147483647,O=36,le=1,ae=26,fr=38,ur=700,Oe=72,Ne=128,me="-",hr=/^xn--/,sr=/[^\0-\x7E]/,cr=/[\x2E\u3002\uFF0E\uFF61]/g,vr={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},pe=O-le,N=Math.floor,Se=String.fromCharCode;function L(r){throw new RangeError(vr[r])}function Er(r,e){for(var a=[],n=r.length;n--;)a[n]=e(r[n]);return a}function Pe(r,e){var a=r.split("@"),n="";a.length>1&&(n=a[0]+"@",r=a[1]),r=r.replace(cr,".");var t=r.split("."),f=Er(t,e).join(".");return n+f}function _e(r){for(var e=[],a=0,n=r.length;a<n;){var t=r.charCodeAt(a++);if(t>=55296&&t<=56319&&a<n){var f=r.charCodeAt(a++);(f&64512)==56320?e.push(((t&1023)<<10)+(f&1023)+65536):(e.push(t),a--)}else e.push(t)}return e}var dr=function(e){return String.fromCodePoint.apply(String,ir(e))},or=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:O},Ue=function(e,a){return e+22+75*(e<26)-((a!=0)<<5)},Fe=function(e,a,n){var t=0;for(e=n?N(e/ur):e>>1,e+=N(e/a);e>pe*ae>>1;t+=O)e=N(e/pe);return N(t+(pe+1)*e/(e+fr))},xe=function(e){var a=[],n=e.length,t=0,f=Ne,u=Oe,c=e.lastIndexOf(me);c<0&&(c=0);for(var d=0;d<c;++d)e.charCodeAt(d)>=128&&L("not-basic"),a.push(e.charCodeAt(d));for(var g=c>0?c+1:0;g<n;){for(var s=t,S=1,$=O;;$+=O){g>=n&&L("invalid-input");var p=or(e.charCodeAt(g++));(p>=O||p>N((G-t)/S))&&L("overflow"),t+=p*S;var E=$<=u?le:$>=u+ae?ae:$-u;if(p<E)break;var D=O-E;S>N(G/D)&&L("overflow"),S*=D}var o=a.length+1;u=Fe(t-s,o,s==0),N(t/o)>G-f&&L("overflow"),f+=N(t/o),t%=o,a.splice(t++,0,f)}return String.fromCodePoint.apply(String,a)},He=function(e){var a=[];e=_e(e);var n=e.length,t=Ne,f=0,u=Oe,c=!0,d=!1,g=void 0;try{for(var s=e[Symbol.iterator](),S;!(c=(S=s.next()).done);c=!0){var $=S.value;$<128&&a.push(Se($))}}catch(M){d=!0,g=M}finally{try{!c&&s.return&&s.return()}finally{if(d)throw g}}var p=a.length,E=p;for(p&&a.push(me);E<n;){var D=G,o=!0,z=!1,C=void 0;try{for(var T=e[Symbol.iterator](),l;!(o=(l=T.next()).done);o=!0){var A=l.value;A>=t&&A<D&&(D=A)}}catch(M){z=!0,C=M}finally{try{!o&&T.return&&T.return()}finally{if(z)throw C}}var y=E+1;D-t>N((G-f)/y)&&L("overflow"),f+=(D-t)*y,t=D;var U=!0,V=!1,H=void 0;try{for(var ie=e[Symbol.iterator](),ve;!(U=(ve=ie.next()).done);U=!0){var Ee=ve.value;if(Ee<t&&++f>G&&L("overflow"),Ee==t){for(var B=f,k=O;;k+=O){var b=k<=u?le:k>=u+ae?ae:k-u;if(B<b)break;var J=B-b,Ce=O-b;a.push(Se(Ue(b+J%Ce,0))),B=N(J/Ce)}a.push(Se(Ue(B,0))),u=Fe(f,y,E==p),f=0,++E}}}catch(M){V=!0,H=M}finally{try{!U&&ie.return&&ie.return()}finally{if(V)throw H}}++f,++t}return a.join("")},lr=function(e){return Pe(e,function(a){return hr.test(a)?xe(a.slice(4).toLowerCase()):a})},pr=function(e){return Pe(e,function(a){return sr.test(a)?"xn--"+He(a):a})},Y={version:"2.1.0",ucs2:{decode:_e,encode:dr},decode:xe,encode:He,toASCII:pr,toUnicode:lr},I={};function m(r){var e=r.charCodeAt(0),a=void 0;return e<16?a="%0"+e.toString(16).toUpperCase():e<128?a="%"+e.toString(16).toUpperCase():e<2048?a="%"+(e>>6|192).toString(16).toUpperCase()+"%"+(e&63|128).toString(16).toUpperCase():a="%"+(e>>12|224).toString(16).toUpperCase()+"%"+(e>>6&63|128).toString(16).toUpperCase()+"%"+(e&63|128).toString(16).toUpperCase(),a}function X(r){for(var e="",a=0,n=r.length;a<n;){var t=parseInt(r.substr(a+1,2),16);if(t<128)e+=String.fromCharCode(t),a+=3;else if(t>=194&&t<224){if(n-a>=6){var f=parseInt(r.substr(a+4,2),16);e+=String.fromCharCode((t&31)<<6|f&63)}else e+=r.substr(a,6);a+=6}else if(t>=224){if(n-a>=9){var u=parseInt(r.substr(a+4,2),16),c=parseInt(r.substr(a+7,2),16);e+=String.fromCharCode((t&15)<<12|(u&63)<<6|c&63)}else e+=r.substr(a,9);a+=9}else e+=r.substr(a,3),a+=3}return e}function De(r,e){function a(n){var t=X(n);return t.match(e.UNRESERVED)?t:n}return r.scheme&&(r.scheme=String(r.scheme).replace(e.PCT_ENCODED,a).toLowerCase().replace(e.NOT_SCHEME,"")),r.userinfo!==void 0&&(r.userinfo=String(r.userinfo).replace(e.PCT_ENCODED,a).replace(e.NOT_USERINFO,m).replace(e.PCT_ENCODED,R)),r.host!==void 0&&(r.host=String(r.host).replace(e.PCT_ENCODED,a).toLowerCase().replace(e.NOT_HOST,m).replace(e.PCT_ENCODED,R)),r.path!==void 0&&(r.path=String(r.path).replace(e.PCT_ENCODED,a).replace(r.scheme?e.NOT_PATH:e.NOT_PATH_NOSCHEME,m).replace(e.PCT_ENCODED,R)),r.query!==void 0&&(r.query=String(r.query).replace(e.PCT_ENCODED,a).replace(e.NOT_QUERY,m).replace(e.PCT_ENCODED,R)),r.fragment!==void 0&&(r.fragment=String(r.fragment).replace(e.PCT_ENCODED,a).replace(e.NOT_FRAGMENT,m).replace(e.PCT_ENCODED,R)),r}function ge(r){return r.replace(/^0*(.*)/,"$1")||"0"}function $e(r,e){var a=r.match(e.IPV4ADDRESS)||[],n=ce(a,2),t=n[1];return t?t.split(".").map(ge).join("."):r}function be(r,e){var a=r.match(e.IPV6ADDRESS)||[],n=ce(a,3),t=n[1],f=n[2];if(t){for(var u=t.toLowerCase().split("::").reverse(),c=ce(u,2),d=c[0],g=c[1],s=g?g.split(":").map(ge):[],S=d.split(":").map(ge),$=e.IPV4ADDRESS.test(S[S.length-1]),p=$?7:8,E=S.length-p,D=Array(p),o=0;o<p;++o)D[o]=s[o]||S[E+o]||"";$&&(D[p-1]=$e(D[p-1],e));var z=D.reduce(function(y,U,V){if(!U||U==="0"){var H=y[y.length-1];H&&H.index+H.length===V?H.length++:y.push({index:V,length:1})}return y},[]),C=z.sort(function(y,U){return U.length-y.length})[0],T=void 0;if(C&&C.length>1){var l=D.slice(0,C.index),A=D.slice(C.index+C.length);T=l.join(":")+"::"+A.join(":")}else T=D.join(":");return f&&(T+="%"+f),T}else return r}var Sr=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Dr="".match(/(){0}/)[1]===void 0;function F(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a={},n=e.iri!==!1?re:j;e.reference==="suffix"&&(r=(e.scheme?e.scheme+":":"")+"//"+r);var t=r.match(Sr);if(t){Dr?(a.scheme=t[1],a.userinfo=t[3],a.host=t[4],a.port=parseInt(t[5],10),a.path=t[6]||"",a.query=t[7],a.fragment=t[8],isNaN(a.port)&&(a.port=t[5])):(a.scheme=t[1]||void 0,a.userinfo=r.indexOf("@")!==-1?t[3]:void 0,a.host=r.indexOf("//")!==-1?t[4]:void 0,a.port=parseInt(t[5],10),a.path=t[6]||"",a.query=r.indexOf("?")!==-1?t[7]:void 0,a.fragment=r.indexOf("#")!==-1?t[8]:void 0,isNaN(a.port)&&(a.port=r.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?t[4]:void 0)),a.host&&(a.host=be($e(a.host,n),n)),a.scheme===void 0&&a.userinfo===void 0&&a.host===void 0&&a.port===void 0&&!a.path&&a.query===void 0?a.reference="same-document":a.scheme===void 0?a.reference="relative":a.fragment===void 0?a.reference="absolute":a.reference="uri",e.reference&&e.reference!=="suffix"&&e.reference!==a.reference&&(a.error=a.error||"URI is not a "+e.reference+" reference.");var f=I[(e.scheme||a.scheme||"").toLowerCase()];if(!e.unicodeSupport&&(!f||!f.unicodeSupport)){if(a.host&&(e.domainHost||f&&f.domainHost))try{a.host=Y.toASCII(a.host.replace(n.PCT_ENCODED,X).toLowerCase())}catch(u){a.error=a.error||"Host's domain name can not be converted to ASCII via punycode: "+u}De(a,j)}else De(a,n);f&&f.parse&&f.parse(a,e)}else a.error=a.error||"URI can not be parsed.";return a}function gr(r,e){var a=e.iri!==!1?re:j,n=[];return r.userinfo!==void 0&&(n.push(r.userinfo),n.push("@")),r.host!==void 0&&n.push(be($e(String(r.host),a),a).replace(a.IPV6ADDRESS,function(t,f,u){return"["+f+(u?"%25"+u:"")+"]"})),(typeof r.port=="number"||typeof r.port=="string")&&(n.push(":"),n.push(String(r.port))),n.length?n.join(""):void 0}var we=/^\.\.?\//,Le=/^\/\.(\/|$)/,ze=/^\/\.\.(\/|$)/,$r=/^\/?(?:.|\n)*?(?=\/|$)/;function Z(r){for(var e=[];r.length;)if(r.match(we))r=r.replace(we,"");else if(r.match(Le))r=r.replace(Le,"/");else if(r.match(ze))r=r.replace(ze,"/"),e.pop();else if(r==="."||r==="..")r="";else{var a=r.match($r);if(a){var n=a[0];r=r.slice(n.length),e.push(n)}else throw new Error("Unexpected dot segment condition")}return e.join("")}function P(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e.iri?re:j,n=[],t=I[(e.scheme||r.scheme||"").toLowerCase()];if(t&&t.serialize&&t.serialize(r,e),r.host&&!a.IPV6ADDRESS.test(r.host)){if(e.domainHost||t&&t.domainHost)try{r.host=e.iri?Y.toUnicode(r.host):Y.toASCII(r.host.replace(a.PCT_ENCODED,X).toLowerCase())}catch(c){r.error=r.error||"Host's domain name can not be converted to "+(e.iri?"Unicode":"ASCII")+" via punycode: "+c}}De(r,a),e.reference!=="suffix"&&r.scheme&&(n.push(r.scheme),n.push(":"));var f=gr(r,e);if(f!==void 0&&(e.reference!=="suffix"&&n.push("//"),n.push(f),r.path&&r.path.charAt(0)!=="/"&&n.push("/")),r.path!==void 0){var u=r.path;!e.absolutePath&&(!t||!t.absolutePath)&&(u=Z(u)),f===void 0&&(u=u.replace(/^\/\//,"/%2F")),n.push(u)}return r.query!==void 0&&(n.push("?"),n.push(r.query)),r.fragment!==void 0&&(n.push("#"),n.push(r.fragment)),n.join("")}function Ve(r,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments[3],t={};return n||(r=F(P(r,a),a),e=F(P(e,a),a)),a=a||{},!a.tolerant&&e.scheme?(t.scheme=e.scheme,t.userinfo=e.userinfo,t.host=e.host,t.port=e.port,t.path=Z(e.path||""),t.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(t.userinfo=e.userinfo,t.host=e.host,t.port=e.port,t.path=Z(e.path||""),t.query=e.query):(e.path?(e.path.charAt(0)==="/"?t.path=Z(e.path):((r.userinfo!==void 0||r.host!==void 0||r.port!==void 0)&&!r.path?t.path="/"+e.path:r.path?t.path=r.path.slice(0,r.path.lastIndexOf("/")+1)+e.path:t.path=e.path,t.path=Z(t.path)),t.query=e.query):(t.path=r.path,e.query!==void 0?t.query=e.query:t.query=r.query),t.userinfo=r.userinfo,t.host=r.host,t.port=r.port),t.scheme=r.scheme),t.fragment=e.fragment,t}function Rr(r,e,a){var n=tr({scheme:"null"},a);return P(Ve(F(r,n),F(e,n),n,!0),n)}function Cr(r,e){return typeof r=="string"?r=P(F(r,e),e):q(r)==="object"&&(r=F(P(r,e),e)),r}function Ar(r,e,a){return typeof r=="string"?r=P(F(r,a),a):q(r)==="object"&&(r=P(r,a)),typeof e=="string"?e=P(F(e,a),a):q(e)==="object"&&(e=P(e,a)),r===e}function Ir(r,e){return r&&r.toString().replace(!e||!e.iri?j.ESCAPE:re.ESCAPE,m)}function x(r,e){return r&&r.toString().replace(!e||!e.iri?j.PCT_ENCODED:re.PCT_ENCODED,X)}var ne={scheme:"http",domainHost:!0,parse:function(e,a){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,a){var n=String(e.scheme).toLowerCase()==="https";return(e.port===(n?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}},Me={scheme:"https",domainHost:ne.domainHost,parse:ne.parse,serialize:ne.serialize};function qe(r){return typeof r.secure=="boolean"?r.secure:String(r.scheme).toLowerCase()==="wss"}var te={scheme:"ws",domainHost:!0,parse:function(e,a){var n=e;return n.secure=qe(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize:function(e,a){if((e.port===(qe(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var n=e.resourceName.split("?"),t=ce(n,2),f=t[0],u=t[1];e.path=f&&f!=="/"?f:void 0,e.query=u,e.resourceName=void 0}return e.fragment=void 0,e}},je={scheme:"wss",domainHost:te.domainHost,parse:te.parse,serialize:te.serialize},Tr={},yr=!0,Ge="[A-Za-z0-9\\-\\.\\_\\~"+(yr?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",_="[0-9A-Fa-f]",Or=i(i("%[EFef]"+_+"%"+_+_+"%"+_+_)+"|"+i("%[89A-Fa-f]"+_+"%"+_+_)+"|"+i("%"+_+_)),Nr="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",mr="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Pr=h(mr,'[\\"\\\\]'),_r="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Ur=new RegExp(Ge,"g"),Q=new RegExp(Or,"g"),Fr=new RegExp(h("[^]",Nr,"[\\.]",'[\\"]',Pr),"g"),Ye=new RegExp(h("[^]",Ge,_r),"g"),xr=Ye;function Re(r){var e=X(r);return e.match(Ur)?e:r}var Xe={scheme:"mailto",parse:function(e,a){var n=e,t=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var f=!1,u={},c=n.query.split("&"),d=0,g=c.length;d<g;++d){var s=c[d].split("=");switch(s[0]){case"to":for(var S=s[1].split(","),$=0,p=S.length;$<p;++$)t.push(S[$]);break;case"subject":n.subject=x(s[1],a);break;case"body":n.body=x(s[1],a);break;default:f=!0,u[x(s[0],a)]=x(s[1],a);break}}f&&(n.headers=u)}n.query=void 0;for(var E=0,D=t.length;E<D;++E){var o=t[E].split("@");if(o[0]=x(o[0]),a.unicodeSupport)o[1]=x(o[1],a).toLowerCase();else try{o[1]=Y.toASCII(x(o[1],a).toLowerCase())}catch(z){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+z}t[E]=o.join("@")}return n},serialize:function(e,a){var n=e,t=nr(e.to);if(t){for(var f=0,u=t.length;f<u;++f){var c=String(t[f]),d=c.lastIndexOf("@"),g=c.slice(0,d).replace(Q,Re).replace(Q,R).replace(Fr,m),s=c.slice(d+1);try{s=a.iri?Y.toUnicode(s):Y.toASCII(x(s,a).toLowerCase())}catch(E){n.error=n.error||"Email address's domain name can not be converted to "+(a.iri?"Unicode":"ASCII")+" via punycode: "+E}t[f]=g+"@"+s}n.path=t.join(",")}var S=e.headers=e.headers||{};e.subject&&(S.subject=e.subject),e.body&&(S.body=e.body);var $=[];for(var p in S)S[p]!==Tr[p]&&$.push(p.replace(Q,Re).replace(Q,R).replace(Ye,m)+"="+S[p].replace(Q,Re).replace(Q,R).replace(xr,m));return $.length&&(n.query=$.join("&")),n}},Hr=/^([^\:]+)\:(.*)/,Ze={scheme:"urn",parse:function(e,a){var n=e.path&&e.path.match(Hr),t=e;if(n){var f=a.scheme||t.scheme||"urn",u=n[1].toLowerCase(),c=n[2],d=f+":"+(a.nid||u),g=I[d];t.nid=u,t.nss=c,t.path=void 0,g&&(t=g.parse(t,a))}else t.error=t.error||"URN can not be parsed.";return t},serialize:function(e,a){var n=a.scheme||e.scheme||"urn",t=e.nid,f=n+":"+(a.nid||t),u=I[f];u&&(e=u.serialize(e,a));var c=e,d=e.nss;return c.path=(t||a.nid)+":"+d,c}},br=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Qe={scheme:"urn:uuid",parse:function(e,a){var n=e;return n.uuid=n.nss,n.nss=void 0,!a.tolerant&&(!n.uuid||!n.uuid.match(br))&&(n.error=n.error||"UUID is not valid."),n},serialize:function(e,a){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};I[ne.scheme]=ne,I[Me.scheme]=Me,I[te.scheme]=te,I[je.scheme]=je,I[Xe.scheme]=Xe,I[Ze.scheme]=Ze,I[Qe.scheme]=Qe,v.SCHEMES=I,v.pctEncChar=m,v.pctDecChars=X,v.parse=F,v.removeDotSegments=Z,v.serialize=P,v.resolveComponents=Ve,v.resolve=Rr,v.normalize=Cr,v.equal=Ar,v.escapeComponent=Ir,v.unescapeComponent=x,Object.defineProperty(v,"__esModule",{value:!0})})});var rr=We(Te()),ar=We(Te()),{SCHEMES:sa,pctEncChar:ca,pctDecChars:va,parse:Ea,removeDotSegments:da,serialize:oa,resolveComponents:la,resolve:pa,normalize:Sa,equal:Da,escapeComponent:ga,unescapeComponent:$a,__esModule:Ra}=ar,{default:Kr,...Wr}=ar,Ca=rr.default??Kr??Wr;export{sa as SCHEMES,Ra as __esModule,Ca as default,Da as equal,ga as escapeComponent,Sa as normalize,Ea as parse,va as pctDecChars,ca as pctEncChar,da as removeDotSegments,pa as resolve,la as resolveComponents,oa as serialize,$a as unescapeComponent};
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
